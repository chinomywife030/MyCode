@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* ğŸ¯ é€šçŸ¥ç³»çµ±ï¼šæ»¾å‹•ç›®æ¨™é«˜äº®æ•ˆæœ */
.notification-target-highlight {
  animation: notificationHighlight 2s ease-in-out;
}

@keyframes notificationHighlight {
  0% {
    background-color: rgba(249, 115, 22, 0.2);
    box-shadow: 0 0 0 0 rgba(249, 115, 22, 0.4);
  }
  50% {
    background-color: rgba(249, 115, 22, 0.3);
    box-shadow: 0 0 0 10px rgba(249, 115, 22, 0);
  }
  100% {
    background-color: transparent;
    box-shadow: 0 0 0 0 rgba(249, 115, 22, 0);
  }
}

/* éš±è—æ²è»¸ */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* ğŸ Toast å‹•ç•« */
.animate-slide-up {
  animation: slideUp 0.3s ease-out;
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ğŸ’€ Skeleton å‹•ç•« */
.animate-skeleton {
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
  animation: skeleton 1.5s infinite;
}

@keyframes skeleton {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

/* ============================================
 * ğŸŒ è·¨ç€è¦½å™¨å…¼å®¹æ€§
 * ============================================ */

/* Backdrop filter å…¼å®¹æ€§ï¼ˆSafari éœ€è¦ -webkit å‰ç¼€ï¼‰ */
.backdrop-blur-sm {
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
}

.backdrop-blur-md {
  -webkit-backdrop-filter: blur(12px);
  backdrop-filter: blur(12px);
}

/* ğŸ”‹ ä½æ€§èƒ½è¨­å‚™é™ç´šï¼šæ¸›å°‘ blur ä½¿ç”¨ */
@media (prefers-reduced-motion: reduce) {
  .backdrop-blur-sm,
  .backdrop-blur-md {
    -webkit-backdrop-filter: none;
    backdrop-filter: none;
    background-color: rgba(255, 255, 255, 0.95);
  }
}

/* ============================================
 * âš¡ æ€§èƒ½å„ªåŒ–
 * ============================================ */

/* GPU åŠ é€Ÿå„ªåŒ–ï¼ˆç”¨æ–¼å‹•ç•«å…ƒç´ ï¼‰ */
.gpu-accelerated {
  transform: translateZ(0);
  will-change: transform;
}

/* åœ–ç‰‡å®¹å™¨ï¼šå›ºå®šæ¯”ä¾‹é˜²æ­¢ layout shift */
.aspect-4-3 {
  aspect-ratio: 4 / 3;
}

.aspect-square {
  aspect-ratio: 1 / 1;
}

/* æ·¡å…¥å‹•ç•« */
.animate-fade-in {
  animation: fadeIn 0.2s ease-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* é•·åˆ—è¡¨æ€§èƒ½å„ªåŒ– */
.contain-layout {
  contain: layout;
}

.contain-paint {
  contain: paint;
}

/* ============================================
 * ğŸ“± è§¸æ§å„ªåŒ–
 * ============================================ */

/* é˜²æ­¢ iOS Safari é»æ“Šæ™‚çš„ 300ms å»¶é² */
button,
a,
[role="button"] {
  touch-action: manipulation;
}

/* é˜²æ­¢é•·æŒ‰é¸å–ï¼ˆç”¨æ–¼å¯æ‹–æ›³å…ƒç´ ï¼‰ */
.no-select {
  -webkit-user-select: none;
  user-select: none;
  -webkit-touch-callout: none;
}

/* ============================================
 * ğŸ“± æ‰‹æ©Ÿç‰ˆ Input/Textarea æ–‡å­—é¡è‰²ä¿®å¾©
 * ============================================ */

@layer base {
  /* æ‰€æœ‰ input å’Œ textarea çš„è¼¸å…¥æ–‡å­—é¡è‰² */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="number"],
  input[type="tel"],
  input[type="url"],
  input[type="search"],
  textarea {
    color: #111827; /* text-gray-900 */
    background-color: #ffffff; /* bg-white */
    -webkit-text-fill-color: #111827; /* iOS Safari éœ€è¦ */
  }

  /* Placeholder ä¿æŒè¼ƒæ·¡é¡è‰² */
  input::placeholder,
  textarea::placeholder {
    color: #9ca3af; /* text-gray-400 */
    opacity: 1; /* ç¢ºä¿åœ¨ iOS ä¸Šé¡¯ç¤º */
    -webkit-text-fill-color: #9ca3af; /* iOS Safari éœ€è¦ */
  }

  /* ç¢ºä¿åœ¨ iOS Safari ä¸Šæ–‡å­—é¡è‰²æ­£ç¢ºé¡¯ç¤º */
  input:-webkit-autofill,
  textarea:-webkit-autofill {
    -webkit-text-fill-color: #111827 !important;
    -webkit-box-shadow: 0 0 0px 1000px #ffffff inset !important;
  }

  /* æ·±è‰²æ¨¡å¼ä¸‹çš„èª¿æ•´ï¼ˆå¦‚æœæœ‰çš„è©±ï¼‰ */
  @media (prefers-color-scheme: dark) {
    input[type="text"],
    input[type="email"],
    input[type="password"],
    input[type="number"],
    input[type="tel"],
    input[type="url"],
    input[type="search"],
    textarea {
      color: #f9fafb; /* text-gray-50 */
      background-color: #1f2937; /* bg-gray-800 */
      -webkit-text-fill-color: #f9fafb;
    }

    input::placeholder,
    textarea::placeholder {
      color: #6b7280; /* text-gray-500 */
      -webkit-text-fill-color: #6b7280;
    }

    input:-webkit-autofill,
    textarea:-webkit-autofill {
      -webkit-text-fill-color: #f9fafb !important;
      -webkit-box-shadow: 0 0 0px 1000px #1f2937 inset !important;
    }
  }
}
